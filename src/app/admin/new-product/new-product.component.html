<section class="adminZone py-5">
  <div class="container">
    <nav class="" aria-label="breadcrumb">
      <ol class="breadcrumb pl-0 justify-content-center">
        <li class="breadcrumb-item">
          <a routerLink="/admin">Admin</a>
        </li>
        <li class="active breadcrumb-item" aria-current="page">Administración de productos</li>
      </ol>
    </nav>
    <form [formGroup]="form" (ngSubmit)="saveProduct()" novalidate>
      <input id="id" name="id" type="hidden" formControlName="id">
      <input id="img_src_url" name="img_src_url" type="hidden" formControlName="img_src_url">
      <div class="row">
        <div class="col-12 col-md-4 form__cover">
          <div class="form_poster">
            <label for="img_src_">
              <span [ngClass]="this.haveImg ? 'badge badge-pill badge-success p-3' : 'badge badge-pill badge-info p-3'">{{messagePoster}}</span>
            </label>
            <input id="img_src_" name="img_src_" type="file" accept="image/*" (change)="updateImage_img_src($event)">
            <img id="img_src_img" [src]="image_img_src" *ngIf="image_img_src">
            <span *ngIf="errorHandling('img_src', 'required')" class="text-danger">Debe seleccionar el poster</span>
          </div>
        </div>
        <div class="col-12 col-md-8 form__content">
          <div class="row">
            <div class="col-12">
              <input id="name" name="name" type="text" class="form_input" placeholder="Nombre" formControlName="name">
              <span *ngIf="errorHandling('name', 'required')" class="text-danger">El nombre es requerido</span>
            </div>
            <div class="col-12">
              <textarea id="description" name="description" class="form_textarea" placeholder="Descripción" formControlName="description"></textarea>
              <span *ngIf="errorHandling('description', 'required')" class="text-danger">La sescripción es requerida</span>
            </div>
            <div class="col-12">
              <input id="amount" name="amount" type="text" class="form_input" placeholder="Precio" formControlName="amount">
              <span *ngIf="errorHandling('amount', 'required')" class="text-danger">El precio es requerido</span>
              <span *ngIf="errorHandling('amount', 'pattern')" class="text-danger">El precio solo admite valores númericos</span>
            </div>
            <div class="col-12">
              <ng-select2
                id="classification_prod"
                name="classification_prod"
                [data]="select2_clas"
                [options]="options_clas"
                [width]="500"
                [placeholder]="'Seleccione la clasificación'"
                formControlName="classification_prod">
              </ng-select2>
              <span *ngIf="errorHandling('classification_prod', 'required')" class="text-danger">Debe seleccionar al menos una clasificación</span>
            </div>
            <div class="col-12 col-md-6">
              <ng-select2
                id="type_product_id"
                name="type_product_id"
                [data]="select2_typ"
                [options]="options_typ"
                [width]="500"
                [placeholder]="'Seleccione el tipo de producto...'"
                formControlName="type_product_id">
              </ng-select2>
              <span *ngIf="errorHandling('type_product_id', 'required')" class="text-danger">Debe seleccionar el tipo de producto</span>
            </div>
            <div class="col-12 col-md-6">
              <ng-select2
                id="enable"
                name="enable"
                [data]="select2_est"
                [options]="options_est"
                [width]="500"
                [placeholder]="'Seleccione el estado...'"
                formControlName="enable">
              </ng-select2>
              <span *ngIf="errorHandling('enable', 'required')" class="text-danger">Debe seleccionar el estado</span>
            </div>
          </div>
        </div>
        <div class="col-12 col-md-4">
          <!-- [disabled]="!form.valid" -->
          <button class="btn btn-outline-primary btn-sm btn_search" (click)="onBack()">
            <i class="fas fa-chevron-circle-left"></i> Volver
          </button>
        </div>
        <div class="col-12 col-md-4">
          <!-- [disabled]="!form.valid" -->
          <button class="btn btn-outline-info btn-sm btn_search" (click)="onReset()">
            <i class="fas fa-eraser"></i> Limpiar
          </button>
        </div>
        <div class="col-12 col-md-4">
          <!-- [disabled]="!form.valid" -->
          <button type="submit" class="btn btn-outline-success btn-sm btn_search">
            <i class="far fa-save"></i> Guardar
          </button>

        </div>
      </div>
    </form>
  </div>
</section>
